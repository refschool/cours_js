<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grille de loto</title>
</head>
<style>
    .container {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: stretch;
        align-content: stretch;
        width: 420px;
        margin-left: auto;
        margin-right: auto;
        border: solid 3px black;
        border-radius: 10px;
        padding: 10px;
    }

    .ecran {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: center;
        align-items: center;
        align-content: stretch;
        width: 420px;
        height: 90px;
        margin-left: auto;
        margin-right: auto;
        border: solid 3px black;
        border-radius: 10px;
        padding: 10px;
    }

    .numero {
        color: #DE2528;
        box-sizing: border-box;
        border: 3px solid #DE2528;
        border-radius: 30px;
        width: 60px;
        height: 60px;
        margin: 5px;
        padding: 5px;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        align-content: stretch;
        cursor: pointer;

    }

    .bouton {
        width: 420px;
        margin-left: auto;
        margin-right: auto;
        border: solid 3px black;
        border-radius: 10px;
        padding: 10px;
        cursor: pointer;
    }
</style>

<body>
    <div class="ecran"></div>
    <div class="container">
    </div>
    <div class="bouton">Envoyer la conbinaison</div>
</body>
<!-- <script src="init.js"></script> -->
<script>
    // pouvoir noter une combinaison de numéro

    // envoyer au centre le numéro via POST email + combinaison

    // stocker les combinaisons dans le localstorage

    // vous pouvez acheter 5 tickets au maximum

    // un tirage sera fait à la fin de la journée pour désigner le numéro gagnant
    const url = 'http://glottr.com/index.php?action=loto';
    const ecran = document.querySelector('.ecran')
    const container = document.querySelector('.container')
    const bouton = document.querySelector('.bouton')
    const combinaison = []

    bouton.addEventListener('click', function (e) {
        //envoit via fetch
        fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                combinaison: combinaison,
                email: 'yvon.huynh@gmail.com'
            }),
        })

    })
    container.addEventListener('click', function (e) {
        const numero = e.target
        const numeroHTML = e.target.outerHTML
        ecran.innerHTML += numeroHTML
        combinaison.push(parseInt(numero.textContent))

        numero.style.backgroundColor = 'green'
    })

    for (let i = 1; i < 50; i++) {
        const numero = document.createElement('div')
        numero.classList.add('numero')
        numero.innerHTML = i
        document.querySelector('.container').appendChild(numero)
    }

</script>

</html>